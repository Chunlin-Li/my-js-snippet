'use strict';


// var size = '576*90';

var testData = '["300*250","300*48","720*200","360*54","640*100","960*90","320*48","375*56","120*270","414*62","1080*162","1080*0","412*61","720*108","980*147","640*1136","640*60","375*0","720*0","250*250","610*90","728*90","640*96","414*0","393*58","480*72","320*0","468*60","540*81","343*51","950*90","1320*198","1440*216","620*90","1440*0","384*57","200*200","680*90","300*300","640*160","280*250","540*0","480*0","1000*90","303*45","1394*209","280*42","180*300","978*146","432*64","306*45","750*112","500*75","667*100","120*240","1234*185","336*280","358*53","361*54","800*120","674*101","640*90","950*20","570*85","768*115","1874*281","420*63","450*67","463*69","568*85","600*90","305*45","334*50","360*60","397*59","598*89","736*110","1315*197","344*51","400*60","703*105","523*78","376*56","350*52","1242*186","1314*197","534*80","260*85","260*285","1536*230","1316*197","411*61","120*600","1634*245","694*104","338*50","732*109","300*45","268*40","1200*180","336*50","357*53","276*41","1313*196","312*46","1536*0","374*56","1317*197","1200*0","1152*172","964*144","601*90","1280*192","314*47","931*139","392*58","1106*165","973*145","1152*0","null*null","800*0","754*113","434*65","335*50","525*78","394*59","533*79","342*51","1390*208","623*93","1389*208","304*45","1063*159","294*44","383*57","704*105","828*124","569*85","1024*153","1388*208","320*53","1312*196","764*114","1920*288","100*15","248*37","699*104","375*62","742*111","1318*197","272*40","974*146","330*49","1229*184","20*3","1391*208","324*48","333*49","454*68","972*145","669*100","1230*184","544*81","1034*155","1228*184","359*53","313*46","1387*208","362*54","934*140","1869*280","971*145","1600*240","464*69","1047*157","1231*184","768*0","427*64","900*135","1054*158","368*55","960*144","1868*280","1340*201","991*148","269*40","801*120","668*100","385*57","354*53","1059*158","610*91","670*100","1082*162","340*51","602*90","329*49","975*146","1125*168","1400*210","1331*20","414*69","246*36","780*117","1210*181","1081*162","398*59","560*84","125*125","1227*184","110*16","1386*207","1871*280","353*52","524*78","970*145","855*128","310*46","671*100","288*43","328*49","688*103","689*103","905*135","1000*150","293*43","1226*183","356*53","760*90","1600*0","460*69","552*82","976*146","1*0","321*48","345*51","1254*188","331*49","327*49","576*86","426*63","518*77","352*52","289*43","510*20","1630*244","1403*210","459*68","1113*166","700*105","1300*195","698*104","1629*244","690*103","1232*184","346*51","977*146","1392*208","998*149","308*46","600*0","240*36","377*56","484*72","774*116","339*50","1350*202","355*53","326*48","914*137","687*103","451*67","545*81","514*77","455*68","290*43","1319*197","316*47","372*55","1334*200","1867*280","332*49","1870*280","402*60","318*47","624*93","748*112","930*139","666*99","938*140","348*52","416*62","395*59","430*64","824*123","406*60","1628*244","1020*153","672*100","281*42","458*68","739*110","311*46","429*64","262*39","1532*0","1442*216","428*64","238*35","549*82","351*52","360*480","270*40","258*38","347*52","1532*229","364*54","751*112","309*46","611*91","695*104","1872*280","541*81","274*41","369*55","854*128","409*61","1101*165","927*139","604*90","214*32","749*112","508*76","686*102","366*54","529*79","1627*244","256*38","1102*165","592*88","453*67","307*46","17*2","853*127","323*48","10*1","1410*211","947*142","234*35","730*60","1100*165","673*100","25*3","412*68","213*31","1312*20","363*54","482*72","506*75","1099*164","691*103","1873*280","1050*157","1633*244","296*44","693*103","349*52","370*55","448*67","642*96","929*139","1631*244","1336*200","386*57","536*80","987*148","260*39","378*56","271*40","1866*279","1064*159","747*112","1241*186","160*24","360*56","393*65","212*31","1894*284","462*69","1348*20","241*36","396*59","1626*243","1248*187","784*117","1029*154","1335*200","574*86","382*57","1414*212","485*72","457*68","431*64","950*142","1008*151","990*148","953*20","1104*165","417*62","1067*160","559*83","628*94","932*139","185*27","692*103","962*144","287*43","1332*20","267*40","752*112","1180*177","933*139","928*139","1409*211","439*65","786*117","980*816","452*67","449*67","1401*210","1250*187","733*20","1463*219","753*112","1441*216","515*77","325*48","595*89","1249*187","1383*207","1055*158","981*147","1049*157","302*45","643*96","461*69","683*102","724*20","1247*187","415*62","1423*213","322*48","486*72","1048*157","1030*154","1233*184","180*27","317*47","410*61","408*61","582*87","1366*204","504*75","527*79","483*72","1922*288","1028*154","447*67","637*95","1794*269","594*89","511*20","1136*170","380*57","285*42","365*54","696*104","235*35","282*42","1051*157","507*76","1804*20","78*11","257*38","512*76","1393*208","315*47","618*92","200*30","760*114","528*79","2048*307","337*50","34*5","1090*163","404*60","468*70","442*66","18*2","224*33","1654*248","843*126","469*70","424*63","1240*186","898*134","120*18","635*95","706*105","509*20","1058*158","1472*220","630*90","1026*153","572*85","388*58","499*74","1027*154","727*109","935*140","770*115","1339*200","491*73","1417*212","446*66","650*97","157*23","1031*154","992*148","995*149","1648*247","997*149","1252*187","740*20","283*42","1033*154","360*216","907*136","403*60","1632*244","1411*211","250*37","1103*165","319*47","1140*171","697*104","381*57","519*77","767*115","444*66","1335*20","373*55","589*88","762*114","438*65","510*76","295*44","1098*164","297*44","425*63","384*64","576*0","740*111","1337*200","701*105","1333*199","721*108","266*39","401*60","1313*20","341*51","812*121","298*44","286*42","475*71","553*82","769*115","261*39","371*55","608*91","440*66","583*87","1170*175","1120*168","433*64","550*82","1088*163","216*32","1007*151","498*74","968*145","27*4","517*77","263*39","732*20","988*148","622*93","726*108","945*20","526*78","1805*20","2560*384","265*39","766*114","1280*0","1344*201","986*147","1105*165","606*90","1002*150","301*45","1349*202","603*90","1380*207","1888*283","1920*0","413*61","473*70","513*76","1860*279","596*89","1196*179","277*41","614*92","252*37","379*56","284*42","1060*159","735*110","292*43","731*109","918*137","591*88","1332*199","367*55","264*39","1460*219","495*74","711*106","728*109","419*62","638*95","707*106","121*18","1040*156","1349*20","537*80","656*98","571*85","936*140","511*76","640*106","79*11","476*71","546*81","562*84","600*400","783*117","982*147","255*38","965*144","150*22","421*63","456*68","573*85","1004*150","629*94","590*88","910*136","1032*154","208*31","435*65","889*133","1476*221","390*58","621*93","1903*285","422*63","660*99","952*142","1258*188","1824*20","255*20","509*76","532*79","741*20","40*6","685*102","80*12","1235*185","1370*205","869*130","956*143","1165*174","242*36","625*93","563*84","937*140","1263*189","230*34","279*41","684*102","1418*212","391*58","466*69","1256*188","127*19","237*35","389*58","54*8","1255*188","1464*219","651*97","72*10","958*143","1190*178","535*80","584*87","928*20","1656*248","225*33","291*43","481*72","487*73","636*95","705*105","232*34","680*102","721*20","850*127","1396*209","1424*213","984*147","1003*150","1500*225","1501*20","474*71","492*73","148*22","275*41","36*5","497*74","634*95","1052*157","1071*160","1898*284","201*30","909*136","999*149","1647*247","195*29","441*66","63*9","577*86","1440*20","227*34","407*61","593*88","1006*150","1126*168","423*63","612*91","702*105","714*107","908*136","405*60","259*38","33*4","300*170","399*59","412*549","682*102","418*62","717*107","912*136","206*30","251*37","538*80","1253*187","1910*286","320*426","96*14","111*16","1183*177","360*300","539*80","681*102","781*117","210*31","299*44","630*94","864*129","1053*157","188*28","273*40","917*137","1066*159","205*30","470*70","748*20","888*133","1076*161","211*31","724*108","811*121","1062*159","1368*0","169*25","1820*20","223*33","247*37","581*87","1179*20","1245*186","1576*20","236*35","375*225","952*20","894*134","996*149","1343*201","2562*384","467*70","810*121","645*96","744*111","894*20","944*141","2*0","667*111","720*112","1478*221","758*113","1060*165","1407*211","480*80","587*88","588*88","437*65","479*71","708*106","244*36","465*69","478*71","655*98","840*126","488*73","960*0","1046*156","1130*169","183*27","1876*281","245*36","551*82","813*121","88*13","1899*284","477*71","676*101","1001*150","1807*20","239*35","543*81","641*96","741*111","1010*151","164*24","1785*20","494*74","900*0","937*20","940*141","943*141","1338*200","1398*209","578*86","647*97","789*118","818*122","1351*20","165*24","218*32","219*32","778*116","946*20","1196*20","171*25","320*192","520*78","616*92","649*97","679*101","757*113","76*11","911*136","1620*243","2208*331","555*83","580*87","586*87","1084*162","1476*0","1557*20","972*20","1818*272","198*29","320*50","375*500","564*84","714*20","743*20","755*113","1012*151","1131*169","1220*183","202*30","204*30","222*33","490*73","734*110","994*149","1112*166","13*1","1422*213","1480*222","1569*20","19*2","190*28","229*34","502*75","558*83","715*107","1236*185","203*30","566*84","644*96","663*99","878*131","1180*20","1443*20","1812*271","264*20","45*6","557*83","75*11","969*20","1137*170","1281*192","249*37","253*37","278*41","554*83","710*106","1044*156","1290*193","1364*20","620*93","790*118","906*135","1022*153","1251*187","1360*204","140*21","220*33","436*65","445*66","627*94","639*95","759*113","1018*152","1057*158","1420*213","361*60","547*82","607*91","640*0","756*20","823*123","891*133","993*148","1014*152","1036*155","1238*185","1366*0","1413*211","193*28","209*31","414*248","704*20","705*20","920*138","948*142","1023*153","1056*158","1264*189","1277*20","1372*205","21*3","412*64","522*78","667*0","795*119","82*12","826*123","880*132","980*153","263*20","432*72","472*70","585*87","633*94","678*101","709*106","729*109","792*118","1800*270","187*28","3240*486","521*78","631*94","913*136","931*20","1042*156","115*17","196*29","579*20","599*89","648*97","654*98","794*119","902*135","176*26","360*0","615*92","712*106","746*111","820*123","985*147","1149*172","1811*20","243*36","661*99","730*109","772*115","776*116","923*20","932*20","1160*20","360*540","39*5","505*75","665*99","736*20","926*138","1099*20","1356*20","1663*249","489*73","567*85","718*107","720*432","1134*170","1184*177","1188*178","1212*181","15*2","1801*270","189*28","2147483647*322122547","233*34","50*7","543*20","598*99","64*9","785*117","808*121","81*12","967*145","109*16","1140*20","1149*0","1368*205","192*28","197*29","2048*0","226*33","24*3","387*58","46*6","833*124","845*126","961*20","1070*160","1167*175","1258*20","1260*189","1404*210","1408*211","1897*284","400*66","414*552","530*79","561*84","587*20","662*99","664*99","761*114","876*131","1119*167","134*20","1346*201","1577*20","1602*240","186*27","1893*283","199*29","28*4","3273*490","491*20","600*100","613*91","716*107","861*129","890*133","893*133","926*20","979*146","1121*20","1273*20","132*19","1406*210","1914*287","3091*463","375*58","471*70","565*84","568*94","609*91","725*108","771*115","797*119","896*134","941*141","966*144","1005*150","1135*170","1283*20","1416*212","159*23","1596*20","1939*290","496*74","501*75","548*82","677*101","825*123","85*12","860*129","90*13","1680*252","177*26","194*29","32*4","393*524","4667*700","542*81","719*107","757*20","760*0","773*115","863*129","865*129","909*20","1025*153","1197*20","1243*186","1345*201","1356*203","1415*212","1434*215","1902*285","2032*304","215*32","3600*540","443*66","480*288","503*75","51*7","617*92","653*97","69*10","713*106","722*20","779*116","803*120","885*132","919*137","963*144","1000*166","1161*20","1257*188","139*20","1572*235","1583*237","163*24","181*27","184*27","1889*283","191*28","2004*300","619*92","659*98","723*108","756*113","835*125","846*126","959*143","961*144","989*148","1035*155","1065*159","1144*171","1150*172","1168*175","120*60","1246*186","1405*210","1412*211","1482*20","1653*247","207*31","228*34","234*70","30*4","49*7","500*60","597*89","737*110","738*110","763*114","787*118","829*124","852*127","917*20","934*20","940*20","946*141","107*16","1138*170","1143*171","1160*174","1183*20","1198*179","1921*288","2001*300","231*34","254*38","376*62","393*235","414*64","556*83","652*97","775*116","791*118","802*120","828*20","9*1","942*141","1064*20","1075*20","1087*163","1089*163","1192*178","1516*20","1794*0","1800*0","52*7","581*20","640*853","647*0","777*116","836*125","844*126","1265*20","1272*20","1303*20","1347*202","1426*213","147*22","1592*20","1708*256","173*25","1786*20","179*26","1797*20","221*33","31*4","310*48","516*77","575*86","626*93","65*9","703*20","718*20","736*122","809*121","886*132","954*143","1075*161","1124*168","1194*179","1197*179","1203*180","1208*181","1262*189","1267*190","1272*190","1310*196","1375*206","145*21","154*23","175*26","217*32","29*4","35*5","38*5","540*90","574*20","605*90","62*9","722*108","782*117","788*118","807*121","832*124","922*138","924*138","925*138","927*20","995646*149346","1021*153","1061*159","1068*160","1080*648","1086*162","11*1","1121*168","1189*178","1202*180","1216*182","129*19","130*19","1322*20","1323*198","1330*20","1341*201","1450*217","158*23","1828*274","1886*282","1891*283","1915*287","3234*485","383*63","47*7","493*73","713*20","760*20","762*20","765*114","767*20","799*119","870*130","879*131","915*137","1009*151","102*15","1026*20","1045*156","1074*161","1077*161","1151*172","116*17","1166*174","118*17","1182*177","1244*186","1265*189","1266*189","1329*20","1342*201","1470*220","1577*236","1594*239","16*2","1650*247","166*24","1776*20","1812*20","1875*281","1895*284","240*0","3010*451","320*266","3214*482","412*247","534*89","540*720","55*8","56*8","570*95","596*20","675*101","728*20","733*109","74*11","768*128","806*120","815*122","923*138","925*20","953*142","969*145","1016*152","1038*155","1045*20","106*15","1171*175","1196*0","1217*182","1296*194","131*19","1329*199","1340*20","1341*20","1353*202","1365*204","1373*205","138*20","1432*214","1456*20","155*23","160*600","161*24","1651*247","167*25","168*25","1707*256","1775*20","1788*20","1890*283","386*64","4*0","400*533","5*0","601*100","67*10","720*960","736*0","761*20","8*1","804*120","821*123","827*124","858*128","875*131","897*134","899*134","91*13","1024*853","103*15","105*15","1153*172","1163*174","1172*175","1206*180","1216*0","1216*20","1225*183","1225*20","1244*20","126*18","1274*191","1288*193","135*20","1350*225","136*20","1371*205","13968*2095","1399*209","144*21","1443*216","153*22","1588*238","170*25","1700*255","1770*265","1892*283","2160*324","2212*331","3000*450","411*68","461*76","564*20","588*20","605*20","696*20","699*116","7*1","752*20","8000*1200","805*120","819*122","842*126","87*13","874*131","875*20","89*13","899*20","912*20","93*13","931*155","94*14","949*142","949*20","955*143","957*20","1078*161","1094*164","1109*166","112*16","1128*169","1129*169","1132*169","114*17","1177*176","1181*20","11988*1798","1199*20","1201*180","1204*180","122*18","1221*183","1223*183","1239*185","124*18","1259*188","1262*20","1270*190","1282*192","1283*192","1286*192","1298*194","1304*20","1331*199","1368*20","1377*206","1382*207","14*2","1421*20","1444*20","1444*216","1472*20","1512*226","1566*234","1655*248","1658*248","1667*250","1731*259","1792*268","1815*272","1827*20","1845*276","1885*282","1900*285","1993*298","2038*305","2041*306","2076*311","2196*329","223*118","2230*334","2491*373","2532*379","3*0","317*52","320*480","3200*480","3218*482","33127*4969","360*360","378*63","3840*576","393*327","41*6","432*576","48*7","496*20","514*20","518*80","53*7","551*20","555*20","586*20","632*94","640*533","658*98","66*9","662*20","70*10","71*10","711*20","743*111","745*111","814*122","831*124","84*12","856*128","898*20","918*20","945*141","980*163","983*147","101*15","1015*152","1024*170","1027*20","108*16","1080*168","1080*20","1115*167","1122*168","1123*168","113*16","1142*20","1149*20","11520*1728","1162*20","1164*174","1175*176","1177*20","1185*177","1189*20","1199*179","1200*20","1209*181","1214*182","1249*20","125*20","1264*20","1274*20","1277*191","1280*213","1281*20","1284*192","1287*193","1291*193","1292*20","1294*194","1319*20","13248*1987","1326*198","133*19","13500*2025","1352*202","1362*204","1364*204","137*20","1379*206","139505*20925","1428*214","1429*214","143*21","1433*214","1438*215","1446*216","1448*217","146*21","1477*221","149*22","1492*223","1501*225","151*22","1525*20","1531*229","1539*230","1540*231","156*23","1579*20","1582*237","1583*20","1613*241","1643*246","1649*247","165941*24891","1661*249","166444*24966","1670*250","1689*253","1702*255","174*26","1748*262","1760*264","1782*267","1799*269","1808*20","182*27","1820*273","1840*276","1907*286","1908*286","1917*287","1918*287","200000*30000","2111*316","2118*317","2138*320","2160*0","2250*337","23*3","238*198","2520*378","3207*481","3213*481","33142*4971","375*562","384*512","392*61","399*20","4125*618","427*71","480*640","531*79","533*88","547*20","569*94","5760*864","579*86","58*8","59*8","604*20","608*20","610*101","640*384","646*96","693*20","697*20","701*20","708*20","720*120","732*122","737*20","738*20","780*20","783*20","790*20","79175*11876","800*133","809*20","817*122","81896*12284","834*125","857*20","86*12","883*132","884*132","889*20","892*133","913*20","916*137","934986*140247","941*20","948*20","951*142","959*20","976*162","98*14","1011*151","1013*151","1037*155","1041*20","1043*156","1073*160","1079*20","1083*162","1091*20","1092*163","1096*164","1108*166","1113*667","1118*167","11230*1684","1126*20","1133*169","1137*20","1139*170","1145*171","115*20","1151*20","1173*175","1176*176","1178*20","1179*176","12000*1800","1205*180","1212*20","1215*182","1218*182","1226*20","1275*191","1278*191","1280*200","1285*20","1286*20","1287*20","1288*20","1293*193","1293*20","1302*195","1304*195","1311*20","1328*199","13428*2014","1344*20","1348*202","1352*20","141*21","142*21","1427*214","1436*215","1437*215","1440*864","1483*20","1493*20","1503*225","1518*227","1543*231","1547*20","1548*232","1573*20","1574*236","1576*236","1587*238","1604*240","162*24","1636*245","1646*246","1652*247","1660*249","1686*252","1695*254","1703*255","172*25","1720*258","1732*259","1749*262","1750*262","1761*264","1768*20","1774*266","1781*267","1788*268","1792*20","1856*278","1875000*281250","1878*281","1882*282","1887*283","1904*285","1911*286","1931*289","1942*291","1988*298","1994*299","20000*3000","2021*303","2133*319","22*3","2272*340","238*39","240*40","2400*360","243230*36484","248*330","2577*386","2661*399","268*223","2700*405","280*43","2851*427","293*48","298*397","2990*448","314*52","327*436","334*55","33554426*5033163","344*458","354*295","361*481","368*61","375*312","375*null","384*230","384*576","393*20","40000*6000","4098*614","412*20","4120*618","414*345","414*621","4147*622","431*20","432*360","4327*649","4339*650","4382*657","4387*658","439*73","442*73","444*74","44680*6702","462*20","4778*716","4800*720","490*20","492*20","524*20","540*324","556*20","558*20","568*20","568*340","568*757","570*20","590*20","598*358","598*797","60*9","60490*9073","61*9","61460*9219","637*20","657*98","6632*994","667*20","667*889","68*10","6804*1020","686*114","7279*1091","73*10","730*20","730*70","732*976","736*441","744*20","754*20","760*60","778*20","792*20","793*118","8158*1223","827*20","83*12","830*124","844*20","848*127","849*127","854*512","855*20","857*128","872*130","873*130","874*20","903*135","911*20","916*20","921*138","924*20","939*140","944*20","951*20","957*143","958*20","980*1306","994*20"]';

var sizeList = ['640*100', '320*50', '300*250'];

var sizeMap = sizeList.reduce((sizeMap, size) => {
    sizeMap[size] = parseSize(size);
    return sizeMap;
}, {});

function parseSize(size)  {
    let result = {};
    let tmp = size.split('*');
    result.w = tmp[0];
    result.h = tmp[1];
    result.product = result.w * result.h;
    if (!result.product) {
        result.ratio = 0;
        result.product = 0;
    }
    result.ratio = result.w / result.h;
    return result;
}

function similarity(sizeA, sizeB){
    let area = Math.abs((sizeA.product - sizeB.product) / Math.min(sizeA.product, sizeB.product));
    let ratio = Math.abs((sizeA.ratio - sizeB.ratio) / Math.min(sizeA.ratio, sizeA.ratio));
    // console.log('@@', sizeA, sizeB, area, ratio);
    return area + ratio * 60; // 调整权重
}

function match(sizeStr) {
    if (sizeMap[sizeStr]) {
        return {size: sizeStr, distance: 0};
    }

    let minSimilarity = Infinity;
    let target = null;
    let parsedSize = parseSize(sizeStr);
    for (var size of sizeList) {
        let s = similarity(parsedSize, sizeMap[size]);
        // if (s > 3) continue;
        // console.log(s, '##', size);
        if (s < minSimilarity) {
            minSimilarity = s;
            target = size;
        }
    }
    return {size:target, distance:minSimilarity};
    // console.log(minSimilarity, result);
}

testData = JSON.parse(testData);
let x;
for (var s of testData) {
    x = match(s);
    if (x.distance > 3)
        console.log('test size : ', s, ' matches the target :', x.size, ' with distance : ', x.distance);
}

// console.dir(match('60490*9073'));